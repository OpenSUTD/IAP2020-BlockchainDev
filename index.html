
<!doctype html>

<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <meta name="theme-color" content="#4F7DC9">
  <meta charset="UTF-8">
  <title>Blockchain Dev Workshop</title>
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro:400|Roboto:400,300,400italic,500,700|Roboto+Mono">
  <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://storage.googleapis.com/codelab-elements/codelab-elements.css">
  <style>
    .success {
      color: #1e8e3e;
    }
    .error {
      color: red;
    }
  </style>
    <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-142866432-3');
  </script>

</head>
<body>
  <google-codelab-analytics gaid="UA-49880327-14"></google-codelab-analytics>
  <google-codelab codelab-gaid=""
                  id="blockchain-dev-conversant"
                  title="Blockchain Dev Workshop"
                  environment="web"
                  feedback-link="">
    
      <google-codelab-step label="Introduction" duration="5">
        <p>QZ:</p>
<ol type="1" start="1">
<li><a href="https://ieeexplore.ieee.org/abstract/document/8726738/" target="_blank">Rethinking blockchain security: Position Paper</a>, worked on the incident database for over 400 incidents</li>
<li><a href="https://arxiv.org/abs/1910.09775" target="_blank">The Security Reference Architecture for Blockchains: Towards a Standardized Model for Studying Vulnerabilities, Threats, and Defenses</a>, contributed to the segment on smart contract security</li>
<li><a href="https://blockchainresearchcollective.github.io/" target="_blank">Work with the Blockchain Research Collective</a>, coordinate efforts amongst universities</li>
<li>Conducted courses with <a href="https://www.sginnovate.com/events/blockfellows-singapore-hub?fbclid=IwAR0MQP3LYLMkVPjXm3FmZq1X2vYjaiSkMd6gCCJ4B8jb8Tt8_HER3Fc9DSE" target="_blank">BlockFellows </a>in 2018</li>
</ol>
<p>SY:</p>
<ul>
<li>Implemented academic scheme of Genaro&#39;s <a href="https://eprint.iacr.org/2019/114.pdf" target="_blank">Fast Multiparty Threshold ECDSA with Fast Trustless Setup</a> at an internship with Torus Labs</li>
</ul>
<p>Our objective for today is to make you conversant in blockchain technology. Therefore at the end of the day, you should be able to participate in a conversation about blockchain meaningfully.  </p>
<aside class="warning"><p>This box is for Warnings/ Things to take note</p>
</aside>
<aside class="special"><p>This box is for things good to know</p>
</aside>
<google-codelab-survey survey-id="blockchain-dev-conversant-1">
<h4>This is for feedback</h4>
<paper-radio-group>
<paper-radio-button>Yes</paper-radio-button>
<paper-radio-button>No</paper-radio-button>
</paper-radio-group>
</google-codelab-survey>


      </google-codelab-step>
    
      <google-codelab-step label="Hello World" duration="60">
        <p><strong>For some of you, this is the first time you are interacting with blockchain technology. Let&#39;s start by making sure you have metamask installed.</strong></p>
<h2 is-upgraded><strong>Step 0</strong></h2>
<p>Install Google Chrome, you can do it from this <a href="https://support.google.com/chrome/answer/95346?co=GENIE.Platform%3DDesktop&hl=en" target="_blank">link</a></p>
<p>Install metamask, you can do it from this <a href="https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn?hl=en" target="_blank">link</a></p>
<p>Install node, please do not install version 12, you can use version 11 from this <a href="https://nodejs.org/dist/v11.10.1/node-v11.10.1-x86.msi" target="_blank">link</a></p>
<h2 is-upgraded><strong>Step 1</strong></h2>
<p>Go to our download the required files to run the frontend locally</p>
<h2 is-upgraded><strong>Step 2</strong></h2>
<p><em>Connect to our network via metamask. </em></p>
<p>Click the dropdown menu on the top and go to &#34;Custom RPC&#34;. You will see this page. Fill it up with these details.</p>
<pre>Network Name: BCDevWorkshop
New RPC URL: https://k0tifewhc0:AMYdoFjO2rD4Ch8ArKY6dEBTSpOFUMCDX5zti_NJp2g@k0mv66045h-k0r5t5e62r-rpc.kr0-aws.kaleido.io</pre>
<p class="image-container"><img style="width: 354.00px" src="img\fc0a7e60f397535a.png"></p>
<h2 is-upgraded><strong>Step 3</strong></h2>
<p><em>Add your account.</em></p>
<p>Choose a private key from the list here and add your name to the column so others don&#39;t take it. You are allowed to do anything with each others&#39; accounts. Each account will be funded 1000 ETH.</p>
<p><strong>As a bonus, the address with the highest ETH or points will win a prize.</strong></p>
<p>Click the circular icon on the top right, then &#34;Import Account&#34;.</p>
<p class="image-container"><img style="width: 355.00px" src="img\1d9580fbeb491c66.png"></p>
<p>Enter your private key.</p>
<p class="image-container"><img style="width: 353.00px" src="img\1dc3ce705f117840.png"></p>
<h2 is-upgraded><strong>Step 4</strong></h2>
<p>Open your cmd prompt/ console</p>
<pre>cd app-users
npm install
npm run dev</pre>
<p>Open your browser and go to <a href="http://localhost:8080/#/" target="_blank">http://localhost:8080</a></p>
<h2 is-upgraded><strong>Step 5</strong></h2>
<p><em>Make your first blockchain transaction</em>.</p>
<p>Click on &#34;Register&#34; and fill in your details!</p>
<p class="image-container"><img style="width: 463.00px" src="img\c44e789df760472d.png"></p>
<p>You will get a metamask pop up, approve your transaction!</p>
<p class="image-container"><img style="width: 342.00px" src="img\7529f55a9f6b1d16.png"></p>
<p>Now you can go back to &#34;Statuses&#34; or wait for the page to refresh when the block is mined.</p>
<p class="image-container"><img style="width: 477.00px" src="img\feee0e2de5addea1.png"></p>
<h2 class="checklist" is-upgraded><strong>What you&#39;ll learn</strong></h2>
<ul class="checklist">
<li>Key concepts that underpin all blockchain technology</li>
<li>Working with blockchain technology</li>
</ul>


      </google-codelab-step>
    
      <google-codelab-step label="Syllabus Overview" duration="5">
        <p>I like to use this analogy when explaining blockchain. It is a:</p>
<ol type="1" start="1">
<li>Data structure - similar to a situation where all previous e-mail replies are kept in the e-mail chain. Except in a blockchain, you include a unique hash that is representative of all previous e-mails in the next e-mail.</li>
<li>Technology - generally a suite of technologies that involve multiple parties that do not necessarily trust each other to collaborate. This relies on the underlying data structure of the blockchain which might not be a single continuously growing chain of blocks either.</li>
</ol>
<h2 is-upgraded><strong>Part 1</strong></h2>
<p>Every concept will follow this format: </p>
<ol type="1" start="1">
<li><strong>What</strong> this concept is summarised into a sentence or two</li>
<li><strong>Issues</strong> that make it challenging to achieve this concept in practice or some other effects it might cause</li>
<li><strong>Why</strong> this is important</li>
<li><strong>How</strong> this concept is achieved in blockchain technology explained through examples</li>
<li><strong>Which </strong>examples currently exist</li>
<li>10 minutes for questions and further discussion</li>
</ol>
<p>Concepts to cover today:</p>
<ul>
<li>Decentralisation</li>
<li>Immutability</li>
<li>Traceability</li>
</ul>
<p>We will finally put it all together with an example.</p>
<h2 is-upgraded><strong>Part 2</strong></h2>
<p>We will now cover how it is like to work with blockchain technology in terms of development tools and debugging tools.</p>


      </google-codelab-step>
    
      <google-codelab-step label="P1.1: Decentralisation" duration="20">
        <aside class="warning"><p>Terms</p>
<p>Peers - individuals that make up the network</p>
<p>Consensus - the method that peers use to agree on the state of the network</p>
</aside>
<h2 is-upgraded><strong>What</strong></h2>
<p class="image-container"><img style="width: 547.00px" src="img\6c8198d9ca047649.png"></p>
<aside class="special"><p><em>There are several forms of decentralisation with varying degrees for each form leading to different properties and tradeoffs.</em></p>
</aside>
<p>You can be decentralised in terms of architecture, culture, control, and decision-making.</p>
<ul>
<li>Architecture sets forth the <strong>different roles of network participants </strong>and how they interact. A highly decentralised architecture will ensure that all peers  have the exact same role and thus exert the same level of influence. A centralised architecture would give a single peer near full control of the network while other participants may only interact with it in limited ways. This can also affect the consensus protocols peers use.</li>
<li>Culture defines the <strong>social norms of the people that interact with the network</strong>. This could be in terms of the developers that build the software of the network, developers that build applications on the network, researchers that explore the potential and pitfalls of the network, and anyone that essentially has a stake in it.</li>
<li>Control of the network can be done in several ways but ultimate result in the <strong>governing of the network&#39;s participants.</strong> This may involve legal structures as to how the network is funded or the amount of changes each peer can make on the network itself.</li>
<li>Decision-making processes <strong>determine the growth of each network and help in the weighing of trade-offs that might have to be taken</strong>. As the technology is new, there are challenges that are unsolved and unforeseen. Having a robust decision-making process is important to ensure that the network can evolve to adapt to each challenge, social or technical.</li>
</ul>
<aside class="special"><p><em>This concept is fundamental to blockchain technology as it is its key value proposition for most use cases.</em></p>
</aside>
<p>Decentralization can be viewed from a blockchain perspective as a mechanism that <strong>provides a way to remodel existing applications and paradigms</strong> or build new applications in order to <strong>give full control to users.</strong> There are conflicting ideas on the importance of decentralisation but most agree that it <strong>removes the need for trust when parties collaborate.</strong> This gives rise to new types of goods and services that are still untested.</p>
<h2 is-upgraded><strong>Issues</strong></h2>
<p>Scaling – there are challenges in keeping a network decentralized if one intends to scale. A common problem is the <strong>transaction speed</strong>, which plagued Ethereum for quite a while. Some solutions involve lowering levels of decentralization as a tradeoff for faster transactions, but it fundamentally lowers the level of security of the network due to the need for trusted parties (eg. Supernodes)</p>
<p>Economics – as a network grows, one cannot predict how its <strong>peers might interact when utilising the resources a network provides</strong>. This might lead to levels of centralization in a network. (Mining power centralization, Centralised exchanges)</p>
<h2 is-upgraded><strong>Why</strong></h2>
<ol type="1" start="1">
<li>It allows for greater participation between non-trust parties</li>
<li>Better reliability in your network as you do not rely on central intermediaries (uptime, processes etc)</li>
</ol>
<h2 is-upgraded><strong>How</strong><strong> this concept is achieved in blockchain technology</strong></h2>
<p>Using the forms of decentralisation as a guide:</p>
<ol type="1" start="1">
<li><strong>Architecture</strong></li>
</ol>
<p>Bitcoin - Full nodes, Light Nodes, Simple Payment Verification (SPV) Clients.</p>
<p>Hyperledger Fabric - Client, Peer, Orderer</p>
<table>
<tr><td colspan="1" rowspan="1"><p>Client</p>
</td><td colspan="1" rowspan="1"><p>Peer   </p>
</td><td colspan="1" rowspan="1"><p>Orderer</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p>Submits an actual transaction-invocation to the endorsers, and broadcasts transactions-proposals to the orderer</p>
</td><td colspan="1" rowspan="1"><p>A node that commits transactions and maintains the state and copy of the ledger. Can also have a special endorser role</p>
</td><td colspan="1" rowspan="1"><p>Node running the communication service that implements a delivery guarantee</p>
</td></tr>
</table>
<ol type="1" start="2">
<li><strong>Culture</strong></li>
</ol>
<p>Open source - an ethos that values collaborating on community projects</p>
<p>Linux Foundation - arguably the most successful open source foundation. Their involvement in blockchain is through the Hyperledger project.</p>
<ol type="1" start="3">
<li><strong>Control</strong></li>
</ol>
<p>Ethereum Foundation - incorporated as a Swiss non-profit at Zug, Switzerland. Provides <a href="https://blog.ethereum.org/2018/08/17/ethereum-foundation-grants-update-wave-3/" target="_blank">Ethereum Grants</a> that pay for teams that work on projects.</p>
<ol type="1" start="4">
<li><strong>Decision-making</strong></li>
</ol>
<p>Ethereum Improvement Proposals (EIPs) - currently this is how all decisions are made.</p>
<h2 is-upgraded><strong>Which </strong><strong>examples currently exist</strong></h2>
<p class="image-container"><img style="width: 624.00px" src="img\359fa5095a0e3047.png"></p>
<p>Self-sovereign identity where users can manage your own reputation, data, and digital assets</p>
<p><strong>ID2020 </strong>- supports digital identity programs across the world</p>
<p><strong><em>uPort </em></strong>- build tools for decentralised identity data management</p>
<p>Decentralised exchanges that requires no central coordinating party and all participants interact based on incentives</p>
<p><strong>Kyber Network</strong></p>
<p class="image-container"><img style="width: 602.00px" src="img\a0393350c17452f.png"></p>
<p>Decentralised Autonomous Organisations allow participants to carry out democratic processes without trusting any particular institution as a central party. This could be through decentralised means to propose ideas, vote on ideas, making decisions for the organisation or individuals all carried out through smart contracts.</p>
<p><strong>MakerDAO </strong>- provides a stable digital currency. The DAO sets the ‘stability fee&#39;, ‘collateralization ratio&#39; and triggers an ‘emergency shutdown&#39; if needed.</p>
<aside class="warning"><p>References used for this concept  </p>
<p>1. <a href="https://medium.com/@VitalikButerin/the-meaning-of-decentralization-a0c92b76a274" target="_blank">https://medium.com/@VitalikButerin/the-meaning-of-decentralization-a0c92b76a274</a></p>
<p>2. <a href="https://en.bitcoin.it/wiki/Network" target="_blank">htps://en.bitcoin.it/wiki/Network</a></p>
<p>3. <a href="https://hyperledger-fabric.readthedocs.io/en/release-1.4/arch-deep-dive.html" target="_blank">https://hyperledger-fabric.readthedocs.io/en/release-1.4/arch-deep-dive.html</a></p>
<p>4. <a href="https://redhat-documentation.github.io/community-collaboration-guide/" target="_blank">https://redhat-documentation.github.io/community-collaboration-guide/</a></p>
<p>5. <a href="https://id2020.org/resources" target="_blank">https://id2020.org/resources</a></p>
<p>6. <a href="https://www.uport.me/" target="_blank">https://www.uport.me/</a></p>
<p>7. <a href="https://kyber.network/" target="_blank">https://kyber.network/</a></p>
<p>8.<a href="https://hackernoon.com/whats-makerdao-and-what-s-going-on-with-it-explained-with-pictures-f7ebf774e9c2" target="_blank">https://hackernoon.com/whats-makerdao-and-what-s-going-on-with-it-explained-with-pictures-f7ebf774e9c2</a></p>
</aside>


      </google-codelab-step>
    
      <google-codelab-step label="P1.2: Immutability" duration="20">
        <aside class="warning"><p>Terms</p>
<p>Fork - change to the protocol or a  divergence from previous version of blockchain.</p>
<p>Blockchain explorer - a tool to traverse blockchain records</p>
<p>Hashing - one-way function generating values from a string of text. It has preimage resistance (hard to find x given a <code>H(x)</code>), second preimage resistance (hard to find x&#39; such that <code>H(x)==H(x&#39;)</code>) and collision resistance (where <code>H(x)==H(y)</code>).</p>
<p class="image-container"><img style="width: 602.00px" src="img\612749f1d7dbac34.png"></p>
<p>Block structure - describes the agreed upon structure of each block in the blockchain by its peers</p>
<p class="image-container"><img style="width: 602.00px" src="img\b84b8f2371996e9d.png"></p>
<p>Fungible – being something of such a nature that one part or quantity may be replaced by another equal part or quantity in paying a debt or settling an account</p>
</aside>
<h2 is-upgraded><strong>What</strong></h2>
<aside class="special"><p><em>All interaction is made reliable by making it unchangeable by any single party, ensuring that activity records and network participation rules are agreed and kept until all necessary parties agree to change them.</em></p>
</aside>
<p>The structure of the blockchain itself affords the <strong>ability for individuals to independently verify the current state of the network</strong>. Each peer can compute the blockchain records for themselves to replicate the changes in the state of the network. A malicious peer will have to compute the consensus protocol for blocks already mined and then outcompete all the miners and broadcast their blocks first to every peer.</p>
<p><strong>Consensus protocols cannot be easily changed and require a fork</strong>.</p>
<p>A fork can also be used to roll back records but it requires most peers to agree to the fork.</p>
<aside class="special"><p><em>This makes digital goods act like real physical goods.</em></p>
</aside>
<p>When records can no longer be easily changed by any single party, this <strong>creates a new type of good that is purely digital</strong>. This is because previously, people could simply make copies and replicate the good, thus no digital good is scarce. The immutability of the records achieved through decentralisation means that <strong>the state of such a good must be agreed upon by the entire network</strong>, analogous to physical goods that can be verified independently through sight or touch.</p>
<h2 is-upgraded><strong>Issues</strong></h2>
<p>Hard forks - rewriting large portions of the blockchain means that records are not absolutely immutable</p>
<p>Irreversibility - wrong actions once accepted and confirmed by the network cannot be easily reversed. Data on the blockchain will stay on the blockchain. Vulnerable smart contracts can be easily decompiled and exploited. The infamous <a href="https://pastebin.com/CcGUBgDG" target="_blank">DAO attacker left his message</a> to the Ethereum Community. <a href="https://www.etherchain.org/tx/d3d4483662185863cde4326ccf5205204adbcda33468587e8153de3fb83a9a37" target="_blank">See it for yourself</a> in the blockchain explorer where multiple transactions were made resulting in a loss of $70M.</p>
<h2 is-upgraded><strong>Why</strong></h2>
<ol type="1" start="1">
<li>Sets forth a new paradigm by no longer requiring record-keeping intermediaries</li>
<li>Overcomes the need for trust in records keptas you can verify independently</li>
</ol>
<h2 is-upgraded><strong>How</strong></h2>
<p>New records - Keep the hash of the previous block and a unique nonce, miners compete to find the nonce for the next block </p>
<p>Old records -  easily verified that previous blocks are correct by hashing the blocks and checking that the nonces are correct</p>
<h2 is-upgraded><strong>Which</strong></h2>
<p>ERC721 -  To emulate rare, collectible items with Ethereum tokens by making these tokens non-fungible.</p>
<p>ERC20 - Allows smart contracts to act very similarly to a conventional cryptocurrency so that this, hosted on the Ethereum blockchain, can be sent, received, checked of its total supply and checked for the amount that is available on an individual address<strong>.</strong></p>
<aside class="warning"><p>References used for this concept</p>
<p>1. <a href="https://hackernoon.com/blockchain-forks-b0dca84db0b0" target="_blank">https://hackernoon.com/blockchain-forks-b0dca84db0b0</a></p>
<p>2. <a href="https://www.coindesk.com/understanding-dao-hack-journalists" target="_blank">https://www.coindesk.com/understanding-dao-hack-journalists</a></p>
<p>3. <a href="https://medium.com/crypto-currently/the-anatomy-of-erc721-e9db77abfc24" target="_blank">https://medium.com/crypto-currently/the-anatomy-of-erc721-e9db77abfc24</a></p>
<p>4. <a href="https://medium.com/blockchannel/the-anatomy-of-erc20-c9e5c5ff1d02" target="_blank">https://medium.com/blockchannel/the-anatomy-of-erc20-c9e5c5ff1d02</a></p>
</aside>


      </google-codelab-step>
    
      <google-codelab-step label="P1.3: Traceability" duration="20">
        <aside class="warning"><p>Terms</p>
<p>Address - a 27-34 digit code consisting of letters and numbers. It is generated by the wallet where you store your coins and is usually currency-specific.</p>
</aside>
<h2 is-upgraded><strong>What</strong></h2>
<aside class="special"><p><em>The ability to hide the link between transactions and addresses are important due to privacy concerns</em></p>
</aside>
<p>You can match the transaction to the address on the blockchain itself quite easily. When you go to a block explorer and view any block, <strong>you will see every transaction in the block, the miner, and any part of the block structure.</strong></p>
<p>The <strong>pseudonymity </strong>that comes with most blockchains is that the address is not traced to a physical identity.</p>
<aside class="special"><p><em>Even though the blockchain is considered public and immutable, individual transactions can be anonymous.</em></p>
</aside>
<p>It&#39;s this pseudonymity that made blockchain technology an ideal method for illegal activity in its earlier days such as through <a href="https://cointelegraph.com/news/silk-road-darknet-marketplace-founder-btc-will-reach-100-000-in-2020" target="_blank">Silk Road.</a></p>
<p>However <strong>once an address is linked to an individual, this pseudonymity is immediately broken</strong> and can be <a href="https://www.ifca.ai/fc14/papers/fc14_submission_11.pdf" target="_blank">easily traced</a>.</p>
<h2 is-upgraded><strong>Issues</strong></h2>
<p>The problems with being traceable is the lack of privacy. One key concern is the <a href="https://en.wikipedia.org/wiki/General_Data_Protection_Regulation" target="_blank">General Data Protection Regulation (GDPR)</a> that would make it impossible to conduct business on the blockchain. </p>
<p>Time - privacy schemes <a href="https://crypto.stackexchange.com/questions/63691/how-much-time-to-generate-a-proof-in-zk-snark" target="_blank">take longer to compute</a> and might severely impact usability of blockchain applications.</p>
<p>That being said, there are new encryption schemes such as <a href="https://medium.com/hashed-official/homomorphic-blockchain-1f7db66ac2f7" target="_blank">homomorphic encryption</a> that might help resolve this.</p>
<h2 is-upgraded><strong>Why</strong></h2>
<p>If privacy is implemented</p>
<ol type="1" start="1">
<li>Potentially better control over personal data</li>
<li>Information that requires secrecy can be conducted over public blockchains</li>
</ol>
<p>If records are meant to be traceable</p>
<ol type="1" start="1">
<li>Makes for a great audit trail for provenance</li>
<li>Allows for fine analysis of actions that occurred over time by any peer</li>
</ol>
<h2 is-upgraded><strong>How</strong></h2>
<p><em>Making transactions traceable</em></p>
<p>Naive - you can just put your name on the transaction itself and you can be immediately traced to it. Block explorers greatly aid this process.</p>
<p class="image-container"><img style="width: 613.00px" src="img\501081656a8ddf62.png"></p>
<p>Data science - such as this work on <a href="https://medium.com/alethio/dex-in-the-2019-a-recap-by-numbers-96d506ba1cb8" target="_blank">analysing decentralised exchanges</a>. Google has also made the <a href="https://cloud.google.com/blog/products/gcp/bitcoin-in-bigquery-blockchain-analytics-on-public-data" target="_blank">Bitcoin </a>and <a href="https://cloud.google.com/blog/products/data-analytics/ethereum-bigquery-public-dataset-smart-contract-analytics" target="_blank">Ethereum </a>blockchains available on BigQuery.</p>
<p><em>Making transactions untraceable</em></p>
<p>Zero Knowledge Proofs - let&#39;s you prove that you know some secret to another party without revealing the secret itself</p>
<p>Homomorphic encryption - introduced by Ronald L. Rivest and Len Alderman (the R and A of RSA). It allows one to perform computations on the data without ever decrypting it.</p>
<p><strong>This is a BIG deal because it&#39;s a major stumbling block for practical blockchain applications</strong>.</p>
<h2 is-upgraded><strong>Which</strong></h2>
<p><em>Making transactions traceable</em></p>
<p class="image-container"><img style="width: 602.00px" src="img\1f03b38f809259a2.png"></p>
<p>From &#34;When to chains combine; supply chain meets blockchain&#34; by Deloitte</p>
<p><em>Making transactions untraceable </em></p>
<p class="image-container"><img style="width: 624.00px" src="img\a5a8cf9363656cd9.png"></p>
<p>From the Princeton Bitcoin book</p>
<p><strong>Nightfall </strong>- private transactions on the Ethereum blockchain using zk-snarks by EY</p>
<aside class="warning"><p>References used for this concept</p>
<p>1. <a href="https://hackernoon.com/eli5-zero-knowledge-proof-78a276db9eff" target="_blank">https://hackernoon.com/eli5-zero-knowledge-proof-78a276db9eff</a></p>
<p>2.<a href="https://medium.com/privacy-preserving-natural-language-processing/homomorphic-encryption-for-beginners-a-practical-guide-part-1-b8f26d03a98a" target="_blank">https://medium.com/privacy-preserving-natural-language-processing/homomorphic-encryption-for-beginners-a-practical-guide-part-1-b8f26d03a98a</a></p>
<p>3.<a href="https://www2.deloitte.com/content/dam/Deloitte/ie/Documents/IE_C_TL_Supplychain_meets_blockchain_.pdf" target="_blank">https://www2.deloitte.com/content/dam/Deloitte/ie/Documents/IE_C_TL_Supplychain_meets_blockchain_.pdf</a></p>
<p>4. <a href="https://www.lopp.net/pdf/princeton_bitcoin_book.pdf" target="_blank">https://www.lopp.net/pdf/princeton_bitcoin_book.pdf</a></p>
<p>5. <a href="https://github.com/EYBlockchain/nightfall" target="_blank">https://github.com/EYBlockchain/nightfall</a></p>
</aside>


      </google-codelab-step>
    
      <google-codelab-step label="P1.4 Putting it together: a working blockchain" duration="10">
        <p><strong>You cannot mention blockchain without first understanding Bitcoin</strong>. <strong>It sets forth the very first principles and ideas that made blockchain technology possible.</strong></p>
<p>Bitcoin&#39;s consensus protocol was revolutionary at that time and has become contentious recently due to energy concerns, mining centralisation, and up-and-coming ‘new&#39; consensus protocols. But let&#39;s start with the original.</p>
<p class="image-container"><img style="width: 569.00px" src="img\160721d0219d5687.png"></p>
<p> Bitcoin also set forth the original protocol and all network participants have to follow. This was key as it was the first decentralised and public method for individuals to transfer value.</p>
<p class="image-container"><img style="width: 570.00px" src="img\2dc6aaef4608be40.png"></p>


      </google-codelab-step>
    
      <google-codelab-step label="P1.5 Putting it together: making a blockchain" duration="20">
        <p>This segment references from &#34;Learn Blockchains by Building One&#34; by Daniel van Flymen.</p>
<ol type="1" start="1">
<li><h2 is-upgraded><strong>The blockchain itself</strong></h2>
</li>
</ol>
<p>You need to represent the blockchain by defining what is a transaction, what is a block, and how the blocks reference previous blocks.</p>
<pre>block = {
    &#39;index&#39;: 1,
    &#39;timestamp&#39;: 1506057125.900785,
    &#39;transactions&#39;: [
        {
            &#39;sender&#39;: &#34;8527147fe1f5426f9dd545de4b27ee00&#34;,
            &#39;recipient&#39;: &#34;a77f5cdfa2934df3954a5c7c7da5df1f&#34;,
            &#39;amount&#39;: 5,
        }
    ],
    &#39;proof&#39;: 324984774000,
    &#39;previous_hash&#39;: &#34;2cf24dba5fb0a30e26e83b2ac5b9e29e1b161e5c1fa7425e73043362938b9824&#34;
}</pre>
<ol type="1" start="2">
<li><h2 is-upgraded><strong>Consensus algorithm</strong></h2>
</li>
</ol>
<p>The guide implements a basic proof of work algorithm that is difficult to find but easy to verify. The consensus algorithm searches for hashes that end in a certain number of 0s.</p>
<pre>import hashlib
import json

from time import time
from uuid import uuid4


class Blockchain(object):
    ...
        
    def proof_of_work(self, last_proof):
        &#34;&#34;&#34;
        Simple Proof of Work Algorithm:
         - Find a number p&#39; such that hash(pp&#39;) contains leading 4 zeroes, where p is the previous p&#39;
         - p is the previous proof, and p&#39; is the new proof
        :param last_proof: &lt;int&gt;
        :return: &lt;int&gt;
        &#34;&#34;&#34;

        proof = 0
        while self.valid_proof(last_proof, proof) is False:
            proof += 1

        return proof

    @staticmethod
    def valid_proof(last_proof, proof):
        &#34;&#34;&#34;
        Validates the Proof: Does hash(last_proof, proof) contain 4 leading zeroes?
        :param last_proof: &lt;int&gt; Previous Proof
        :param proof: &lt;int&gt; Current Proof
        :return: &lt;bool&gt; True if correct, False if not.
        &#34;&#34;&#34;

        guess = f&#39;{last_proof}{proof}&#39;.encode()
        guess_hash = hashlib.sha256(guess).hexdigest()
        return guess_hash[:4] == &#34;0000&#34;</pre>
<ol type="1" start="3">
<li><h2 is-upgraded><strong>Interacting through an API</strong></h2>
</li>
</ol>
<p>The guide uses Flask so that peers can make transactions, mine, call the chain, add new  nodes, resolve conflicting blocks.</p>
<pre>...
import requests


class Blockchain(object)
    ...
    
    def valid_chain(self, chain):
        &#34;&#34;&#34;
        Determine if a given blockchain is valid
        :param chain: &lt;list&gt; A blockchain
        :return: &lt;bool&gt; True if valid, False if not
        &#34;&#34;&#34;

        last_block = chain[0]
        current_index = 1

        while current_index &lt; len(chain):
            block = chain[current_index]
            print(f&#39;{last_block}&#39;)
            print(f&#39;{block}&#39;)
            print(&#34;\n-----------\n&#34;)
            # Check that the hash of the block is correct
            if block[&#39;previous_hash&#39;] != self.hash(last_block):
                return False

            # Check that the Proof of Work is correct
            if not self.valid_proof(last_block[&#39;proof&#39;], block[&#39;proof&#39;]):
                return False

            last_block = block
            current_index += 1

        return True

    def resolve_conflicts(self):
        &#34;&#34;&#34;
        This is our Consensus Algorithm, it resolves conflicts
        by replacing our chain with the longest one in the network.
        :return: &lt;bool&gt; True if our chain was replaced, False if not
        &#34;&#34;&#34;

        neighbours = self.nodes
        new_chain = None

        # We&#39;re only looking for chains longer than ours
        max_length = len(self.chain)

        # Grab and verify the chains from all the nodes in our network
        for node in neighbours:
            response = requests.get(f&#39;http://{node}/chain&#39;)

            if response.status_code == 200:
                length = response.json()[&#39;length&#39;]
                chain = response.json()[&#39;chain&#39;]

                # Check if the length is longer and the chain is valid
                if length &gt; max_length and self.valid_chain(chain):
                    max_length = length
                    new_chain = chain

        # Replace our chain if we discovered a new, valid chain longer than ours
        if new_chain:
            self.chain = new_chain
            return True

        return False</pre>
<ol type="1" start="4">
<li><h2 is-upgraded><strong>Using the blockchain</strong></h2>
</li>
</ol>
<p>Postman is used so that you can easily make API calls and try it out for yourself.</p>
<p>This is a really barebones and simple blockchain, nothing compared to the Bitcoin source code itself but it gives you just enough to understand how a blockchain works.</p>


      </google-codelab-step>
    
      <google-codelab-step label="P2.1 Working with blockchain: Dev tools" duration="20">
        <p>Dev tools are important as it reduces development time. </p>
<p>To interact with the blockchain, it is common to start with <strong>geth</strong>, which will install the whole ethereum blockchain on your computer. However this might take hours, which is not practical if you are trying out blockchain technology.</p>
<aside class="special"><p><em>There are several ways to interact with a blockchain.</em></p>
</aside>
<p>Therefore to allow you to work with the Ethereum blockchain without running a full node there are several methods such as; </p>
<ol type="1" start="1">
<li><strong>Infura</strong>, a hosted Ethereum node cluster that lets your users run your application without requiring them to set up their own Ethereum node or wallet</li>
<li><strong>Web3js, </strong>make requests to an individual Ethereum node with <em>JSON RPC </em>in order to read and write data to the network</li>
<li><strong>HDWalletProvider</strong>, for account management process required when signing transactions on the blockchain such as metamask</li>
</ol>
<p><strong>This list is not exhaustive as new and better ways are still being created</strong>. </p>
<p>To work even faster especially for proofs-of-concepts or hackathons, we can use <strong>Ganache</strong>. <strong>Ganache</strong> is a popular personal ethereum client which you can use to run tests, execute commands, and inspect state while controlling how the chain operates. </p>
<p class="image-container"><img style="width: 624.00px" src="img\61b9fe3cb65f79ff.png"></p>
<p>Most tutorials have their networks deployed on a mix of <strong>Ganache</strong> and <strong>Ethereum testnet(s) connected via infura</strong>.</p>
<p>To speed up the development and code testing, we have <strong>Truffle</strong> which is a development environment, testing framework and asset pipeline for Ethereum. <code>truffle init</code> creates the following file structure, which provides the base for our project.</p>
<p>File structure:</p>
<ul>
<li>contracts/: Contains the<a href="https://solidity.readthedocs.io/" target="_blank">Solidity</a> source files for our smart contracts. There is an important contract in here called <code>Migrations.sol</code>, which we&#39;ll talk about later.</li>
<li>migrations/: Truffle uses a migration system to handle smart contract deployments. A migration is an additional special smart contract that keeps track of changes.</li>
<li>test/: Contains both JavaScript and Solidity tests for our smart contracts</li>
<li>truffle-config.js: Truffle configuration file</li>
</ul>
<p>Get <strong>Solidity Syntax Plugin by Juan Blanco</strong> for <strong>Visual Studio Code</strong> as it is especially useful since many tutorials online have outdated solidity code and this handy code editor can remind you of the new solidity code syntax.</p>


      </google-codelab-step>
    
      <google-codelab-step label="P2.2 Working with blockchain: Debugging" duration="20">
        <p>From the pace at which the development tools in blockchains are developed and new versions of solidity language are pushed out, it is common that the tutorial you have been following is outdated and you are sitting with broken code. <a href="https://lmgtfy.com/" target="_blank">When in doubt, google</a>! </p>
<p>Here are some common community resources:</p>
<ol type="1" start="1">
<li><a href="https://ethereum.stackexchange.com/" target="_blank">Stack Exchange</a> for tough questions</li>
<li><a href="https://ethereum-magicians.org/" target="_blank">Ethereum Magicians</a> for discussions</li>
</ol>
<aside class="special"><p><em>But what should i do if i don&#39;t know where the problem is? </em></p>
</aside>
<p>Check the <a href="https://ethereum.org/developers/" target="_blank">main developer page</a>.</p>
<p>If you are looking to develop an app which requires reading the state of some part of the blockchain, knowledge of web3js and how metamask works would be helpful.</p>
<aside class="special"><p><em>Sometimes there is more than one problem. </em></p>
</aside>
<p>When I was editing the code for the project on voting, I noticed that the Event always on loading if metamask is enabled in browser. So i went to the place in the code where I check if there is a current provider for web3 and perform a few console logs to check the state of my accounts and voila! I found my problem: Web3.getaccounts returned an empty array. With help from stack overflow i picked the possible underlying problems (solvable with actions):</p>
<ul>
<li>Problem 1: metamask would not be injected on local files, so in order to access my metamask account, use the Chrome extension <strong>Web Server for Chrome</strong> to convert local file (e.g //newfile) to https://127.00.02</li>
<li>Problem 2: To unlock my account, I have to write code enable metamask (which prompts the user to allow site access to the account) as part of metamask&#39;s privacy feature (new!)</li>
</ul>
<p>As you can see, some knowledge of how these things work is essential to pinpoint the location of the error (in this case I checked web3.currentProvider). And from there onwards stack overflow and github issues help to identify the deprecated features and other developer&#39;s workaround to the issue with the correct keywords.</p>
<p>Other interesting issues:</p>
<ul>
<li>Callback for web3js required </li>
<li>Restoration of accounts on metamask and what I learnt about how accounts are generated on metamask</li>
</ul>


      </google-codelab-step>
    
      <google-codelab-step label="A better blockchain by mechanism design" duration="40">
        <p>Barnabé Monnot, Robust Incentives Group, Ethereum Foundation</p>
<p><a href="https://twitter.com/barnabemonnot" target="_blank">@barnabemonnot</a></p>
<p>What do we mean when we talk about incentives?</p>
<ul>
<li>Game theory</li>
<li>Mechanism design</li>
</ul>
<p>Game-theoretic view of the Bitcoin protocol</p>
<ul>
<li>Proof-of-work</li>
<li>Protocol and games</li>
<li>Selfish mining</li>
</ul>
<p>Transaction economics: Auctions and tolls</p>
<ul>
<li>First-price, second-price auctions</li>
<li>EIP 1559: An ERP-style fee</li>
</ul>
<p>Hacking the games we play</p>
<ul>
<li>An anti-mechanism to hack second-price auctions</li>
<li>Bribing voters</li>
</ul>
<p><a href="https://docs.google.com/presentation/d/10LR57HTiSs-8pBpNeXKoJ13zOPxzOrLI8Avs3FSDsz0/edit#slide=id.p" target="_blank">Slides here</a></p>


      </google-codelab-step>
    
      <google-codelab-step label="DeFi" duration="40">
        <p>Jocelyn Chang,jocelyn@makerdao.com</p>
<p>www.makerdao.com</p>
<p>1. What is DeFi?</p>
<p>2. Difference between traditional finance and decentralized finance</p>
<p>3. Unbundling of financial intermediary functions</p>
<p>4. DeFi Ecosystem and different DeFi tools</p>
<p>5. A few real world uses cases of MakerDAO</p>
<p>6. The total usage volume of DeFi</p>
<p>7. Benefits and concerns of DeFi</p>
<p><a href="https://drive.google.com/drive/folders/1lgsti3TaQusW0_2_kbVZcgWiay9FdbXe" target="_blank">Slides here</a></p>


      </google-codelab-step>
    
      <google-codelab-step label="Knowing your environment" duration="15">
        <p><strong>For today, before you ask the workshop organisers, do a quick Google first or check Stackoverflow. We want you to try and debug by yourself first as part of the learning process. After 10 minutes, if you&#39;re still stuck, let us know. However we will be walking around throughout the day to ensure you&#39;re having a fruitful experience.</strong></p>
<h2 is-upgraded><strong>Optimising the participant experience</strong></h2>
<p>We will separate you into pairs and match according to your experience in programming. Today we will be adopting the pedagogy of <a href="https://hackernoon.com/the-ultimate-guide-to-pair-programming-b606625bc784" target="_blank">pair programming</a> so we can learn from each other.</p>
<h2 is-upgraded><strong>Using Remix</strong></h2>
<p class="image-container"><img style="width: 225.00px" src="img\8b5fb0d4d2844564.png"></p>
<p><a href="https://remix.ethereum.org/" target="_blank">Remix </a>will be your main <a href="https://en.wikipedia.org/wiki/Integrated_development_environment" target="_blank">IDE </a>for today. We use it because it&#39;s convenient to compile and test your contracts out quickly.</p>
<h2 is-upgraded><strong>Ropsten</strong></h2>
<p>To gain some experience what it&#39;s like developing on Ethereum, we will use test ether from the <a href="https://ethereum.stackexchange.com/questions/13534/what-is-actually-ropsten-what-is-a-new-network" target="_blank">Ropsten network</a>. You can do this by using the <a href="https://faucet.ropsten.be/" target="_blank">Ropsten Ethereum Faucet</a> or the Metamask <a href="https://faucet.metamask.io/" target="_blank">Ropsten Ethereum Faucet</a>..</p>


      </google-codelab-step>
    
      <google-codelab-step label="&#34;Smart&#34; contracts" duration="45">
        <p>Let&#39;s dive right into real smart contracts on the blockchain. Smart contracts are compiled before being migrated onto the blockchain. Thus you need to decompile them.</p>
<ol type="1" start="1">
<li><strong>Choose </strong>a smart contract from <a href="https://www.stateofthedapps.com/platforms/ethereum" target="_blank">State of the dapps</a></li>
<li><strong>Decompile </strong>it with <a href="https://www.eveem.org/api" target="_blank">eveem</a> by Tomas Kolinko</li>
<li><strong>Understand</strong> the decompiled code, formatting it properly might help!</li>
<li><strong>Discuss </strong>with your partner what this smart contract does</li>
<li><strong>Share</strong> with the class</li>
</ol>


      </google-codelab-step>
    
      <google-codelab-step label="Syllabus Overview" duration="40">
        <p>Today we will learn about Ethereum development through working with several smart contracts and dapps. Each segment is separated into:</p>
<ol type="1" start="1">
<li><strong>Deploy </strong>the smart contract and explore every function</li>
<li><strong>Discuss</strong> if the smart contract fulfills its intended objectives well, how it can do better in terms of gas use and security, and how one might induce unintended behaviour in the smart contract.</li>
<li><strong>Develop </strong>based on our earlier discussion, new functions or fixes for the smart contract</li>
<li><strong>Digest</strong> what you&#39;ve just learned by searching for other real-life examples</li>
</ol>


      </google-codelab-step>
    
      <google-codelab-step label="Mortal Greeter" duration="40">
        <h2 is-upgraded><strong>Deploy</strong></h2>
<p>&#34;Hello World&#34; equivalent to familiarise users with smart contracts via remix GUI</p>
<ol type="1" start="1">
<li>navigate to plugins to activate compilers and deployment</li>
<li>paste code for <a href="https://github.com/ethereum/ethereum-org/blob/master/views/content/greeter.md" target="_blank">Mortal/Greeter</a></li>
<li>select proper compiler and option for &#34;autocompile&#34;</li>
<li>switch environment from &#34;Javascript VM&#34; to &#34;injected web3&#34; to connect to metamask account which should be set on the Ropsten testnet</li>
<li>deploy contract and check deployment on etherscan</li>
<li><code>greet</code> function, post the transaction id onto google docs and let people try the <code>greet</code> function with my contract</li>
</ol>
<pre>pragma solidity &gt;=0.4.22 &lt;0.6.0;

contract Mortal {
    /* Define variable owner of the type address */
    address owner;

    /* This constructor is executed at initialization and sets the owner of the contract */
    constructor() public { owner = msg.sender; }

    /* Function to recover the funds on the contract */
    function kill() public { if (msg.sender == owner) selfdestruct(msg.sender); }
}
/*inheritors*/
contract Greeter is Mortal {
    /* Define variable greeting of the type string */
    string greeting;

    /* This runs when the contract is executed */
    /* explain memory */
    /* public functions are functions that can be called by people while private functions are functions that can only be called by contracts */
    constructor(string memory _greeting) public {
        greeting = _greeting;
    }

    /* Main function */
    function greet() public view returns (string memory) {
        return greeting;
    }
}</pre>
<h2 is-upgraded><strong>Discuss</strong></h2>
<ol type="1" start="1">
<li>What do you think of the deployment process?</li>
<li>What happens if you want to change the greeting?</li>
</ol>


      </google-codelab-step>
    
      <google-codelab-step label="Roommate smart contract agreement" duration="40">
        <h2 is-upgraded><strong>Deploy</strong></h2>
<aside class="warning"><p>Please ensure you use solidity compiler v0.4.25</p>
</aside>
<p>You are able to send Ether to your agreement, set new terms, and withdraw Ether if an agreement has been violated. </p>
<ul>
<li>Replace <code>**</code> with your address and your roommate&#39;s address</li>
<li>The <code>Id</code> acts like a password and you need to put the same Id as your address&#39; position in the array it is stored</li>
</ul>
<pre>pragma experimental ABIEncoderV2;

contract RoomieAgreement {
    //Events are to pass information when something happens on the blockchain to your front-end
    event NewAgreement (uint agreementId, string agreementTerms);
    event NewDispute (uint disputeId, string dispute, uint _claim, address claimant);
    //Variables must be declared
    uint agreementId = 0;
    uint minDepositVal = 1;

    //Solidity only support integers
    uint minDeposit = minDepositVal / 1000;
    uint totalDeposit = 0;
    uint disputeId = 0;
    //Structs let you create data types with multiple properties
    struct agreement {
        uint agreementId;
        string agreementTerms;
    }
    
    // Declare an array called agreements of type agreement (a struct) that is publicly viewable
    agreement[] public agreements;
    
    //hardcoded addresses of your roomies
    address[] public roomies = [**,**];
    
    // Mappings are like dictionaries, it&#39;s 1 to 1
    mapping (address =&gt; uint) public roomieDeposits;
    
    // This function checks that you submit the minimum deposit and includes it
    // The payable modifier let&#39;s you send money to the smart contract through this function
    function addDeposit() public payable {
        //require checks a condition. if it fails, it kills the current transaction and reverts
        require(msg.value &gt; minDeposit);
        roomieDeposits[msg.sender] = msg.value;
        totalDeposit = totalDeposit+msg.value;
    }
    
    // This is actually an experimental function but let&#39;s you check the agreements
    function viewAgreements() public view returns (agreement[]) {
        return agreements;
    }
    
    //This lets you view the current total deposits
    function viewDeposits () public view returns (uint) {
        return totalDeposit;
    }
    // This function checks that you picked your right Id and adds your new agreement
    function createAgreement(string _agreementTerms, uint _roomieId) public {
        require(roomies[_roomieId-1] == msg.sender);
        agreementId++;
        agreements.push(agreement(agreementId,_agreementTerms));

        // Event is fired off when this function is complete
        emit NewAgreement(agreementId,_agreementTerms);
    }
    
    // This function lets you execute a claim and will send it to the claimant
    function createDispute(uint _dispute, uint _claim, uint _roomieId) public {
        address claimant = msg.sender;
        require(roomies[_roomieId-1] == msg.sender);
        require(_dispute &lt;= agreementId);
        disputeId++;
        string dispute = agreements[_dispute-1].agreementTerms;
        //Event is fired off when this function is complete
        totalDeposit = totalDeposit-_claim;
        claimant.transfer(_claim);
        emit NewDispute(disputeId, dispute, _claim, claimant);
    }
}</pre>
<h2 is-upgraded><strong>Discuss</strong></h2>
<ol type="1" start="1">
<li>Privacy - you have put your contract address on the blockchain</li>
<li>Fake claims - your roomie can essentially just claim all the money anytime</li>
<li>Lack of adjudication - how do you know who was right or wrong in a dispute?</li>
<li>Gas guzzling - are there more efficient ways to write this contract?</li>
<li>Game theory - how do you incentivise someone to not abuse the claiming function?</li>
</ol>
<h2 is-upgraded><strong>Develop</strong></h2>
<p><strong>Advanced: </strong>Implement a solution to any one of these problems we have discussed.</p>
<p><strong>Intermediate:</strong> Create a function that adds another party as an adjudicator</p>
<pre>bool disputeApproval = false;
    function approveDisputeClaim() public {
        require(msg.sender==roomies[2]);
        disputeApproval = true;
    }
    function createDisputeAdjudication(uint _dispute, uint _claim, uint _roomieId) {
        require(disputeApproval == true);
        address claimant = msg.sender;
        require(roomies[_roomieId-1] == msg.sender);
        require(_dispute &lt;= agreementId);
        disputeId++;
        string dispute = agreements[_dispute-1].agreementTerms;
        //Event is fired off when this function is complete
        
        totalDeposit = totalDeposit-_claim;
        claimant.transfer(_claim);
        disputeApproval = false;
        emit NewDispute(disputeId, dispute, _claim, claimant);

    }</pre>
<p><strong>Beginner</strong>: Do some research on escrow contracts and share with the workshop</p>
<h2 is-upgraded><strong>Digest</strong></h2>
<ul>
<li><a href="https://medium.com/@pranav.89/smart-contracting-simplified-escrow-in-solidity-ethereum-b19761e8fe74" target="_blank">Escrow smart contract tutorial</a></li>
<li><a href="https://lawgazette.com.sg/feature/introduction-to-programmable-contracts-a-dispute-resolution-perspective/" target="_blank">Introduction to Programmable Contracts: A Dispute Resolution Perspective</a></li>
<li><a href="https://mitmedialab.github.io/2019-MIT-Computational-Law-Course/session-lecture-smart-contracts-and-the-law.html" target="_blank">Smart Contracts in computational Law - by MIT Media Lab</a></li>
</ul>


      </google-codelab-step>
    
      <google-codelab-step label="Decentralised confessions page" duration="40">
        <h2 is-upgraded><strong>Deploy</strong></h2>
<p>This is a message board that can hold up to 10 messages and allows you to post messages.</p>
<p>You will get the chance to call other people&#39;s contracts once they have uploaded.</p>
<pre>pragma solidity ^0.4.22;

//Contract is just like classes
contract MessageBoard {
    //Defining User structure. address is a variable type from solidity
    struct User {
        address _address;
        string name;
        bool isValue;
    }

    //Defining Message structure. You can see it have User type member
    struct Message {
        string text;
        User _user;
    }
    
    Message[10] public messageBoardLogs;
    
    //Declaring an event
    event MessageCreated (string text, address _address, string name, bool isValue  );

    //mapping is a key value store. We are specified type of key and value
    mapping (address =&gt; User) users;

    // public function, which is returning boolean
    function setUsername(string memory name) public returns (bool) {
        //require() is throwing error, if the input is not true
        require(userExists(msg.sender) == false, &#34;userAddress has been previously registered&#34;);
        //msg.sender is the address, from where the signUp was called.
        users[msg.sender] = User(msg.sender, name, true);
        return true;
    }

    //8 bit unsigned integer (so no negative values).
    uint8 public messageCount = 0;
    
    //it is creating an event Message with text and user.
    function sendMessage (string text) public returns (bool) {
        //require() is throwing error, if the input is not true
        require(userExists(msg.sender) == true,&#34;msg.sender is not added into users&#34;);
        messageCount++;
        emit MessageCreated(text, users[msg.sender]._address,users[msg.sender].name,true);
        messageBoardLogs[messageCount] = Message(text, users[msg.sender]);
        return true;
    }
    
    //We are using view keyword, to specify that it is not modified the state of contract. It will consume less resources. 
    function userExists(address userAddress) view public returns (bool) {
        return users[userAddress].isValue;
    }
    function readMessage(uint messageIndex) view public returns (string text){
        require(messageIndex&lt;=messageCount,&#34;message index out of range&#34;);
        return messageBoardLogs[messageIndex].text;
    }


}</pre>
<h2 is-upgraded><strong>Discuss</strong></h2>
<ul>
<li>Can there be a better structure for how messageboard keeps messages? The current deployed messageboard can only keep track of the first 10 messages to be written to the board. How should we rewrite the code such that the last 10 messages are kept instead?</li>
<li>Useful feature: currently messages can only be accessed by message index, how about a feature to access latest message?</li>
<li>Would a dynamic array which increases in size as more people write to the messageboard be better than our fixed-length message board?</li>
<li>What are some ways to disincentivise spam on the messageboard?</li>
</ul>
<h2 is-upgraded><strong>Develop</strong></h2>
<p><strong>Advanced: </strong>Implement a solution to any one of these problems we have discussed.</p>
<p><strong>Intermediate</strong>: devise a solution for the 10 message limit</p>
<pre>    //messageBoardLogs can store up to 20 messages
    Message[21] messageBoardLogs;
    //state change when messageBoardLogs is full
    bool messageBoardLogsFull = false;
    //Declaring an event
    event MessageCreated (string text, address _address, string name, bool isValue  );
    //empty constructor will be generated at compile-time if code is not provided.
    //constructor() public {}
    //mapping is a key value store. We are specified type of key and value
    mapping (address =&gt; User) users;
    // public function, which is returning boolean
    function setUsername(string memory name) public returns (bool) {
        //require() is throwing error, if the input is not true
        require(userExists(msg.sender) == false, &#34;userAddress has been previously registered&#34;);
        //msg.sender is the address, from where the signUp was called.
        users[msg.sender] = User(msg.sender, name, true);
        return true;
    }

    //8 bit unsigned integer (so no negative values).
    uint8 public messageCount = 0;
    //it is creating an event Message with text and user.
    function sendMessage (string memory text) public returns (bool) {
        //require() is throwing error, if the input is not true
        require(userExists(msg.sender) == true,&#34;msg.sender is not added into users&#34;);
        //replaces message when threshold message number exceeded
        if(messageCount&lt;=20){
            messageCount++;
        }else{
            messageBoardLogsFull = true;
            messageCount = 1;
        }
        emit MessageCreated(text, users[msg.sender]._address,users[msg.sender].name,true);
        messageBoardLogs[messageCount] = Message(text, users[msg.sender]);
        return true;
    }
  function userExists(address userAddress)  public view returns (bool) {
        return users[userAddress].isValue;
    }
    function readMessage(uint messageIndex)  public view returns (string memory text){
        if(messageBoardLogsFull == false){
            require(messageIndex&lt;=messageCount,&#34;message index out of range&#34;);
        }else{
            require(messageIndex&lt;=21,&#34;message index out of range&#34;);
        }
        return messageBoardLogs[messageIndex].text;
    }
    function readLatestMessage() public view returns(string memory text){
        require(messageCount&gt;0,&#34;there are no messages in messageBoardLogs&#34;);
        return messageBoardLogs[messageCount].text;
    }


}</pre>
<p><strong>Beginner</strong>: what are some ways that people have used blockchain to share messages?</p>
<h2 is-upgraded><strong>Digest</strong></h2>


      </google-codelab-step>
    
      <google-codelab-step label="Voting on the blockchain" duration="40">
        <h2 is-upgraded><strong>Deploy</strong></h2>
<p>This contract simulates a simple voting process. There are 2 candidates you can vote for.</p>
<pre>pragma solidity ^0.5.1;

contract Election {
    // Model a Candidate
    struct Candidate {
        uint id;
        string name;
        uint voteCount;
        // uint _candidateId;
    }

    // Store accounts that have voted
    mapping(address =&gt; bool) public voters;
    // Store Candidates
    // Fetch Candidate
    mapping(uint =&gt; Candidate) public candidates;
    // Store Candidates Count
    uint public candidatesCount;

    // voted event
    event votedEvent (
        uint indexed _candidateId
    );

    constructor () public {
        addCandidate(&#34;Candidate 1&#34;);
        addCandidate(&#34;Candidate 2&#34;);
    }

    function addCandidate (string memory _name) private {
        candidatesCount ++;
        candidates[candidatesCount] = Candidate(candidatesCount, _name, 0);
    }

    function vote (uint _candidateId) public {
        // require that they haven&#39;t voted before
        require(!voters[msg.sender], &#34;if voter is not msg.sender&#34;);

        // update candidate vote Count
        candidates[_candidateId].voteCount ++;

        // trigger voted event
        emit votedEvent(_candidateId);
    }
    
}</pre>
<h2 is-upgraded><strong>Discuss</strong></h2>
<ul>
<li>How might we bribe the voters? (and get away with it)</li>
<li>Can we implement a time limit to voting?</li>
<li>Can we make the vote private?</li>
<li>Is the voting process secure?</li>
</ul>
<h2 is-upgraded><strong>Develop</strong></h2>
<p><strong>Advanced: </strong>Implement a solution to any one of these problems we have discussed.</p>
<p><strong>Intermediate: </strong>Implement a way you can check that the candidate is valid and the voter votes only once.</p>
<pre>    function vote (uint _candidateId) public {
        // require that they haven&#39;t voted before
        require(!voters[msg.sender], &#34;if voter is not msg.sender&#34;);

        // require a valid candidate
        require(_candidateId &gt; 0 &amp;&amp; _candidateId &lt;= candidatesCount,&#34;if candidate not valid&#34;);

        // record that voter has voted
        voters[msg.sender] = true;

        // update candidate vote Count
        candidates[_candidateId].voteCount ++;

        // trigger voted event
        emit votedEvent(_candidateId);
    }</pre>
<p><strong>Beginner: </strong>what other aspects of the democratic process could be decentralised?</p>
<h2 is-upgraded><strong>Digest</strong></h2>
<ul>
<li><a href="https://colony.io/" target="_blank">Colony.io</a></li>
<li><a href="https://law.stanford.edu/projects/blockchain-democracy-digital-governance-in-the-eu-and-the-us/" target="_blank">Blockchain Democracy: Digital Governance in the EU and the US</a></li>
<li><a href="https://www.computerworld.com/article/3430697/why-blockchain-could-be-a-threat-to-democracy.html" target="_blank">Why blockchain-based voting could threaten democracy</a></li>
</ul>


      </google-codelab-step>
    
      <google-codelab-step label="A-very-flawed Kahoot" duration="40">
        <h2 is-upgraded><strong>Deploy</strong></h2>
<p>You&#39;ve deployed a local front-end connected to the decentralised attendance and question-answer dapp.</p>
<pre>pragma solidity ^0.5.0;



contract Users {
    // data structure that stores a user
    
    bytes32 answer;
    
    struct User {
        string name;
        string status;
        address walletAddress;
        uint createdAt;
        uint updatedAt;
        uint points;
    }

    // it maps the user&#39;s wallet address with the user ID
    mapping (address =&gt; uint) public usersIds;

    // Array of User that holds the list of users and their details
    User[] public users;

    // event fired when an user is registered
    event newUserRegistered(uint id);

    // event fired when the user updates his status or name
    event userUpdateEvent(uint id);



    // Modifier: check if the caller of the smart contract is registered
    modifier checkSenderIsRegistered {
            require(isRegistered());
            _;
    }



    /**
     * Constructor function
     */
    constructor() public
    {
        // NOTE: the first user MUST be emtpy: if you are trying to access to an element
        // of the usersIds mapping that does not exist (like usersIds[0x12345]) you will
        // receive 0, that&#39;s why in the first position (with index 0) must be initialized
        addUser(address(0x0), &#34;&#34;, &#34;&#34;);

        // Some dummy data
        addUser(address(0x333333333333), &#34;Leo Brown&#34;, &#34;Available&#34;);
        addUser(address(0x111111111111), &#34;John Doe&#34;, &#34;Very happy&#34;);
        addUser(address(0x222222222222), &#34;Mary Smith&#34;, &#34;Not in the mood today&#34;);
    }
    
    function postAnswer(string memory _answer) public returns(bytes32){
        require(msg.sender==** || msg.sender==** || msg.sender==**);
        answer = keccak256(abi.encode(_answer));
    }


    /**
     * Function to register a new user.
     *
     * @param _userName                 The displaying name
     * @param _status        The status of the user
     */
    function registerUser(string memory _userName, string memory _status) public
    returns(uint)
    {
            return addUser(msg.sender, _userName, _status);
    }



    /**
     * Add a new user. This function must be private because an user
     * cannot insert another user on behalf of someone else.
     *
     * @param _wAddr                 Address wallet of the user
     * @param _userName                Displaying name of the user
     * @param _status            Status of the user
     */
    function addUser(address _wAddr, string memory  _userName, string memory _status) private
    returns(uint)
    {
        // checking if the user is already registered
        uint userId = usersIds[_wAddr];
        require (userId == 0);

        // associating the user wallet address with the new ID
        usersIds[_wAddr] = users.length;
        uint newUserId = users.length++;
        // storing the new user details
        users[newUserId] = User({
                name: _userName,
                status: _status,
                walletAddress: _wAddr,
                createdAt: now,
                updatedAt: now,
            points: 0
        });

        // emitting the event that a new user has been registered
        emit newUserRegistered(newUserId);

        return newUserId;
    }



    /**
     * Update the user profile of the caller of this method.
     * Note: the user can modify only his own profile.
     *
     * @param _newUserName        The new user&#39;s displaying name
     * @param _newStatus         The new user&#39;s status
     */
    function updateUser(string memory _newUserName, string memory _newStatus) checkSenderIsRegistered public
    returns(uint)
    {
            // An user can modify only his own profile.
            uint userId = usersIds[msg.sender];

            User storage user = users[userId];
        if (keccak256(abi.encode(_newStatus)) == answer){
            user.points += 10;
        }
            user.name = _newUserName;
            user.status = _newStatus;
            user.updatedAt = now;

            emit userUpdateEvent(userId);


            return userId;
    }



    /**
     * Get the user&#39;s profile information.
     *
     * @param _id         The ID of the user stored on the blockchain.
     */
    function getUserById(uint _id) public view
    returns(
            uint,
            string memory,
            string memory,
            address,
            uint,
            uint,
            uint
    ) {
            // checking if the ID is valid
            require( (_id &gt; 0) || (_id &lt;= users.length) );

            User memory i = users[_id];

            return (
                    _id,
                    i.name,
                    i.status,
                    i.walletAddress,
                    i.createdAt,
                    i.updatedAt,
                    i.points
            );
    }



    /**
     * Return the profile information of the caller.
     */
    function getOwnProfile() checkSenderIsRegistered public view
    returns(
            uint,
            string memory,
            string memory,
            address,
            uint,
            uint,
            uint
    ) {
            uint id = usersIds[msg.sender];

            return getUserById(id);
    }



    /**
     * Check if the user that is calling the smart contract is registered.
     */
    function isRegistered() public view returns (bool)
    {
            return (usersIds[msg.sender] &gt; 0);
    }



    /**
     * Return the number of total registered users.
     */
    function totalUsers() public view returns (uint)
    {
        // NOTE: the total registered user is length-1 because the user with
        // index 0 is empty check the contructor: addUser(address(0x0), &#34;&#34;, &#34;&#34;);
        return users.length - 1;
    }

}</pre>
<h2 is-upgraded><strong>Discuss</strong></h2>
<ul>
<li>What are some added functions that would be useful?</li>
<li>Why is this question-answer app flawed?</li>
</ul>
<h2 is-upgraded><strong>Develop</strong></h2>
<p>This is our last dapp for the day, thus it is <strong><em>CAPSTONE TIME</em></strong>.</p>
<p>Fully design and implement a new feature for this dapp.</p>


      </google-codelab-step>
    
      <google-codelab-step label="Digest" duration="40">
        <p>Process of creating a dapp (beginners)</p>
<ul>
<li><strong>Design</strong> contract functions with retrieval of information in mind and think about any potential vulnerabilities arising from the code</li>
<li><strong>Test </strong>out your contract functions on remix ide to make sure that the contract works as expected</li>
<li><strong>Initialise </strong>sample project using <code>truffle init</code> to create your own sample project and copy and paste the solidity code</li>
<li><strong>Create</strong> front end html and link it up with web3js to interact with the contract</li>
<li><strong>Configure</strong> network in <code>truffle.js</code> or <code>truffle-config.js</code> for deployment of contracts</li>
</ul>


      </google-codelab-step>
    
      <google-codelab-step label="Further opportunities" duration="5">
        <p>The University ecosystem in Singapore, our <a href="https://blockchainresearchcollective.github.io/" target="_blank">blockchain research collective</a>.</p>
<p>The blockchain industry in Singapore, <a href="https://opennodes.com/" target="_blank">OpenNodes</a>.</p>


      </google-codelab-step>
    
      <google-codelab-step label="Next Steps" duration="0">
        <p>Congratulations! You have reached the end of this workshop.</p>


      </google-codelab-step>
    
  </google-codelab>

  <script src="https://storage.googleapis.com/codelab-elements/native-shim.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/custom-elements.min.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/prettify.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/codelab-elements.js"></script>

</body>
</html>
